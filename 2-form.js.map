{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const { loadConfigFromFile } = require(\"vite\");\n\nconst formData = { email: \"\", message: \"\" };\nconst storageKey = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\ngetValue();\n\n\nform.addEventListener(\"submit\", handleFormSubm);\nfunction handleFormSubm(event) {\n    event.preventDefault();\n    const { email, message } = form.elements;\n    if (email.value.trim() === \"\" || message.value.trim() === \"\") {\n        alert(\"Fill please all fields\");\n        return;\n\n}\n\n\n    console.log(formData);\n    \n    localStorage.removeItem(storageKey);\n    event.target.reset();\n\n      formData.email = \"\";\n      formData.message = \"\";\n}\n\n\n\nform.addEventListener(\"input\", handleFormInp);\nfunction handleFormInp(event) {\n   const form = event.currentTarget;\n    const {email, message }  = form.elements;\n    \n    formData.email = email.value;\n    formData.message = message.value;\n    localStorage.setItem(storageKey, JSON.stringify(formData));\n}\n\n\n\n\nfunction getValue() {\n    const savedData = localStorage.getItem(storageKey);\n    if (savedData === null) {\n\n        return;\n    }\n\n    try {\n        const savedVal = JSON.parse(savedData);\n        form.elements.email.value = savedVal.email;\n        form.elements.message.value = savedVal.message;\n        formData.email = savedVal.email;\n        formData.message = savedVal.message;\n    } catch (error) {\n       alert(\"Something went wrong with saved data. Please fill the form again.\");\n    }\n }\n\n\n\n\n"],"names":["formData","storageKey","form","getValue","handleFormSubm","event","email","message","handleFormInp","savedData","savedVal"],"mappings":"wFAEA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAa,sBACbC,EAAO,SAAS,cAAc,gBAAgB,EACpDC,IAGAD,EAAK,iBAAiB,SAAUE,CAAc,EAC9C,SAASA,EAAeC,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYL,EAAK,SAChC,GAAII,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,GAAI,CAC1D,MAAM,wBAAwB,EAC9B,MAER,CAGI,QAAQ,IAAIP,CAAQ,EAEpB,aAAa,WAAWC,CAAU,EAClCI,EAAM,OAAO,QAEXL,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACzB,CAIAE,EAAK,iBAAiB,QAASM,CAAa,EAC5C,SAASA,EAAcH,EAAO,CAC3B,MAAMH,EAAOG,EAAM,cACZ,CAAC,MAAAC,EAAO,QAAAC,GAAaL,EAAK,SAEhCF,EAAS,MAAQM,EAAM,MACvBN,EAAS,QAAUO,EAAQ,MAC3B,aAAa,QAAQN,EAAY,KAAK,UAAUD,CAAQ,CAAC,CAC7D,CAKA,SAASG,GAAW,CAChB,MAAMM,EAAY,aAAa,QAAQR,CAAU,EACjD,GAAIQ,IAAc,KAKlB,GAAI,CACA,MAAMC,EAAW,KAAK,MAAMD,CAAS,EACrCP,EAAK,SAAS,MAAM,MAAQQ,EAAS,MACrCR,EAAK,SAAS,QAAQ,MAAQQ,EAAS,QACvCV,EAAS,MAAQU,EAAS,MAC1BV,EAAS,QAAUU,EAAS,OAC/B,MAAe,CACb,MAAM,mEAAmE,CAC3E,CACL"}